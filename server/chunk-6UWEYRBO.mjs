import './polyfills.server.mjs';
import{$ as ht,A as ue,Aa as Vt,B as de,C as U,D as F,E as m,F as he,G as c,H as l,I as w,J as B,K as E,L as v,M as d,N as fe,O as Q,P as J,Q as X,R as Z,S as ge,T as N,U as pe,W as dt,a as Je,b as Xe,ba as ft,c as Ze,ca as me,d as et,da as L,e as tt,ea as gt,f as nt,fa as ke,g as it,h as rt,ha as pt,i as le,ia as _e,j as ot,ja as mt,k as Te,ka as R,l as j,la as $,m as st,ma as _t,n as O,na as vt,o as Pe,oa as yt,p as k,pa as Ct,q as at,qa as bt,r as A,ra as Et,s as D,t as lt,u as ct,ua as Mt,v as H,w as ce,x as ut,y as u,z as f}from"./chunk-G4EWCDEM.mjs";import{a as V,b as S,h as p}from"./chunk-5XUXGTUW.mjs";var Ft=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(f(ue),f(ce))}}static{this.\u0275dir=k({type:n})}}return n})(),Nt=(()=>{class n extends Ft{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=lt(n)))(r||n)}})()}static{this.\u0275dir=k({type:n,features:[U]})}}return n})(),Ue=new j("");var nn={provide:Ue,useExisting:le(()=>Me),multi:!0};function rn(){let n=ke()?ke().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var on=new j(""),Me=(()=>{class n extends Ft{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!rn())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(f(ue),f(ce),f(on,8))}}static{this.\u0275dir=k({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&E("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ge([nn]),U]})}}return n})();var sn=new j(""),an=new j("");function Rt(n){return n!=null}function Tt(n){return dt(n)?Xe(n):n}function Pt(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function kt(n,e){return e.map(t=>t(n))}function ln(n){return!n.validate}function Lt(n){return n.map(e=>ln(e)?e:t=>e.validate(t))}function cn(n){if(!n)return null;let e=n.filter(Rt);return e.length==0?null:function(t){return Pt(kt(t,e))}}function Gt(n){return n!=null?cn(Lt(n)):null}function un(n){if(!n)return null;let e=n.filter(Rt);return e.length==0?null:function(t){let i=kt(t,e).map(Tt);return tt(i).pipe(et(Pt))}}function jt(n){return n!=null?un(Lt(n)):null}function At(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function dn(n){return n._rawValidators}function hn(n){return n._rawAsyncValidators}function Le(n){return n?Array.isArray(n)?n:[n]:[]}function ye(n,e){return Array.isArray(n)?n.includes(e):n===e}function Dt(n,e){let t=Le(e);return Le(n).forEach(r=>{ye(t,r)||t.push(r)}),t}function wt(n,e){return Le(e).filter(t=>!ye(n,t))}var Ce=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ge=class extends Ce{get formDirective(){return null}get path(){return null}},z=class extends Ce{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},je=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},fn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ui=S(V({},fn),{"[class.ng-submitted]":"isSubmitted"}),Ht=(()=>{class n extends je{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(f(z,2))}}static{this.\u0275dir=k({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&he("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[U]})}}return n})();var ee="VALID",ve="INVALID",W="PENDING",te="DISABLED",K=class{},be=class extends K{constructor(e,t){super(),this.value=e,this.source=t}},ne=class extends K{constructor(e,t){super(),this.pristine=e,this.source=t}},ie=class extends K{constructor(e,t){super(),this.touched=e,this.source=t}},q=class extends K{constructor(e,t){super(),this.status=e,this.source=t}};function gn(n){return(Ve(n)?n.validators:n)||null}function pn(n){return Array.isArray(n)?Gt(n):n||null}function mn(n,e){return(Ve(e)?e.asyncValidators:n)||null}function _n(n){return Array.isArray(n)?jt(n):n||null}function Ve(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var He=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=me(()=>this.statusReactive()),this.statusReactive=de(void 0),this._pristine=me(()=>this.pristineReactive()),this.pristineReactive=de(!0),this._touched=me(()=>this.touchedReactive()),this.touchedReactive=de(!1),this._events=new Je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return L(this.statusReactive)}set status(e){L(()=>this.statusReactive.set(e))}get valid(){return this.status===ee}get invalid(){return this.status===ve}get pending(){return this.status==W}get disabled(){return this.status===te}get enabled(){return this.status!==te}get pristine(){return L(this.pristineReactive)}set pristine(e){L(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return L(this.touchedReactive)}set touched(e){L(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Dt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Dt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wt(e,this._rawAsyncValidators))}hasValidator(e){return ye(this._rawValidators,e)}hasAsyncValidator(e){return ye(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(S(V({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ie(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new ie(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(S(V({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ne(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new ne(!0,i))}markAsPending(e={}){this.status=W;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new q(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(S(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=te,this.errors=null,this._forEachChild(r=>{r.disable(S(V({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new be(this.value,i)),this._events.next(new q(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(S(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ee,this._forEachChild(i=>{i.enable(S(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(S(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ee||this.status===W)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new be(this.value,t)),this._events.next(new q(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(S(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?te:ee}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=W,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Tt(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new q(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new H,this.statusChanges=new H}_calculateStatus(){return this._allControlsDisabled()?te:this.errors?ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(W)?W:this._anyControlsHaveStatus(ve)?ve:ee}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new ne(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ie(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ve(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=pn(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_n(this._rawAsyncValidators)}};var Be=new j("CallSetDisabledState",{providedIn:"root",factory:()=>Ae}),Ae="always";function vn(n,e){return[...e.path,n]}function yn(n,e,t=Ae){bn(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),En(n,e),Vn(n,e),Mn(n,e),Cn(n,e)}function St(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Cn(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function bn(n,e){let t=dn(n);e.validator!==null?n.setValidators(At(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=hn(n);e.asyncValidator!==null?n.setAsyncValidators(At(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();St(e._rawValidators,r),St(e._rawAsyncValidators,r)}function En(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ut(n,e)})}function Mn(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ut(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Ut(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vn(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function An(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Dn(n){return Object.getPrototypeOf(n.constructor)===Nt}function wn(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Me?t=o:Dn(o)?i=o:r=o}),r||i||t||null}function xt(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function It(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Sn=class extends He{constructor(e=null,t,i){super(gn(t),mn(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ve(t)&&(t.nonNullable||t.initialValueIsDefault)&&(It(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){It(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xn={provide:z,useExisting:le(()=>$e)},Ot=Promise.resolve(),$e=(()=>{class n extends z{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Sn,this._registered=!1,this.name="",this.update=new H,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=wn(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),An(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){yn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Ot.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&ft(i);Ot.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?vn(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(f(Ge,9),f(sn,10),f(an,10),f(Ue,10),f(ht,8),f(Be,8))}}static{this.\u0275dir=k({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ge([xn]),U,at]})}}return n})();var In={provide:Ue,useExisting:le(()=>We),multi:!0};var On=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),We=(()=>{class n extends Nt{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=st(Be,{optional:!0})??Ae}ngOnInit(){this._control=this._injector.get(z),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(f(ue),f(ce),f(On),f(ct))}}static{this.\u0275dir=k({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&E("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ge([In]),U]})}}return n})();var Fn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Pe({type:n})}static{this.\u0275inj=Te({})}}return n})();var Bt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Be,useValue:t.callSetDisabledState??Ae}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Pe({type:n})}static{this.\u0275inj=Te({imports:[Fn]})}}return n})();var $t=["user","model","function","system"];var De=function(n){return n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n}(De||{});var y=class extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}},T=class extends y{constructor(e,t){super(e),this.response=t}},Se=class extends y{constructor(e,t,i,r){super(e),this.status=t,this.statusText=i,this.errorDetails=r}},x=class extends y{};var Rn="https://generativelanguage.googleapis.com",Tn="v1beta",Pn="0.21.0",kn="genai-js",Y=function(n){return n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents",n}(Y||{}),qe=class{constructor(e,t,i,r,o){this.model=e,this.task=t,this.apiKey=i,this.stream=r,this.requestOptions=o}toString(){var e,t;let i=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Tn,o=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||Rn}/${i}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}};function Ln(n){let e=[];return n?.apiClient&&e.push(n.apiClient),e.push(`${kn}/${Pn}`),e.join(" ")}function Gn(n){return p(this,null,function*(){var e;let t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",Ln(n.requestOptions)),t.append("x-goog-api-key",n.apiKey);let i=(e=n.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(r){throw new x(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${r.message}`)}for(let[r,o]of i.entries()){if(r==="x-goog-api-key")throw new x(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new x(`Header name ${r} can only be set using the apiClient field`);t.append(r,o)}}return t})}function jn(n,e,t,i,r,o){return p(this,null,function*(){let s=new qe(n,e,t,i,o);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},$n(o)),{method:"POST",headers:yield Gn(s),body:r})}})}function se(a,h,C,I,G){return p(this,arguments,function*(n,e,t,i,r,o={},s=fetch){let{url:g,fetchOptions:b}=yield jn(n,e,t,i,r,o);return Hn(g,b,s)})}function Hn(i,r){return p(this,arguments,function*(n,e,t=fetch){let o;try{o=yield t(n,e)}catch(s){Un(s,n)}return o.ok||(yield Bn(o,n)),o})}function Un(n,e){let t=n;throw n instanceof Se||n instanceof x||(t=new y(`Error fetching from ${e.toString()}: ${n.message}`),t.stack=n.stack),t}function Bn(n,e){return p(this,null,function*(){let t="",i;try{let r=yield n.json();t=r.error.message,r.error.details&&(t+=` ${JSON.stringify(r.error.details)}`,i=r.error.details)}catch{}throw new Se(`Error fetching from ${e.toString()}: [${n.status} ${n.statusText}] ${t}`,n.status,n.statusText,i)})}function $n(n){let e={};if(n?.signal!==void 0||n?.timeout>=0){let t=new AbortController;n?.timeout>=0&&setTimeout(()=>t.abort(),n.timeout),n?.signal&&n.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}function Ke(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),we(n.candidates[0]))throw new T(`${P(n)}`,n);return Wn(n)}else if(n.promptFeedback)throw new T(`Text not available. ${P(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),we(n.candidates[0]))throw new T(`${P(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Wt(n)[0]}else if(n.promptFeedback)throw new T(`Function call not available. ${P(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),we(n.candidates[0]))throw new T(`${P(n)}`,n);return Wt(n)}else if(n.promptFeedback)throw new T(`Function call not available. ${P(n)}`,n)},n}function Wn(n){var e,t,i,r;let o=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(let s of(r=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)s.text&&o.push(s.text),s.executableCode&&o.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&o.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function Wt(n){var e,t,i,r;let o=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(let s of(r=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)s.functionCall&&o.push(s.functionCall);if(o.length>0)return o}var qn=[De.RECITATION,De.SAFETY,De.LANGUAGE];function we(n){return!!n.finishReason&&qn.includes(n.finishReason)}function P(n){var e,t,i;let r="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)r+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(r+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(r+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((i=n.candidates)===null||i===void 0)&&i[0]){let o=n.candidates[0];we(o)&&(r+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(r+=`: ${o.finishMessage}`))}return r}function re(n){return this instanceof re?(this.v=n,this):new re(n)}function zn(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(g){i[g]&&(r[g]=function(b){return new Promise(function(_,M){o.push([g,b,_,M])>1||a(g,b)})})}function a(g,b){try{h(i[g](b))}catch(_){G(o[0][3],_)}}function h(g){g.value instanceof re?Promise.resolve(g.value.v).then(C,I):G(o[0][2],g)}function C(g){a("next",g)}function I(g){a("throw",g)}function G(g,b){g(b),o.shift(),o.length&&a(o[0][0],o[0][1])}}var qt=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Kn(n){let e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=Jn(e),[i,r]=t.tee();return{stream:Qn(i),response:Yn(r)}}function Yn(n){return p(this,null,function*(){let e=[],t=n.getReader();for(;;){let{done:i,value:r}=yield t.read();if(i)return Ke(Xn(e));e.push(r)}})}function Qn(n){return zn(this,arguments,function*(){let t=n.getReader();for(;;){let{value:i,done:r}=yield re(t.read());if(r)break;yield yield re(Ke(i))}})}function Jn(n){let e=n.getReader();return new ReadableStream({start(i){let r="";return o();function o(){return e.read().then(({value:s,done:a})=>{if(a){if(r.trim()){i.error(new y("Failed to parse stream"));return}i.close();return}r+=s;let h=r.match(qt),C;for(;h;){try{C=JSON.parse(h[1])}catch{i.error(new y(`Error parsing JSON response: "${h[1]}"`));return}i.enqueue(C),r=r.substring(h[0].length),h=r.match(qt)}return o()})}}})}function Xn(n){let e=n[n.length-1],t={promptFeedback:e?.promptFeedback};for(let i of n){if(i.candidates)for(let r of i.candidates){let o=r.index;if(t.candidates||(t.candidates=[]),t.candidates[o]||(t.candidates[o]={index:r.index}),t.candidates[o].citationMetadata=r.citationMetadata,t.candidates[o].groundingMetadata=r.groundingMetadata,t.candidates[o].finishReason=r.finishReason,t.candidates[o].finishMessage=r.finishMessage,t.candidates[o].safetyRatings=r.safetyRatings,r.content&&r.content.parts){t.candidates[o].content||(t.candidates[o].content={role:r.content.role||"user",parts:[]});let s={};for(let a of r.content.parts)a.text&&(s.text=a.text),a.functionCall&&(s.functionCall=a.functionCall),a.executableCode&&(s.executableCode=a.executableCode),a.codeExecutionResult&&(s.codeExecutionResult=a.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),t.candidates[o].content.parts.push(s)}}i.usageMetadata&&(t.usageMetadata=i.usageMetadata)}return t}function Qt(n,e,t,i){return p(this,null,function*(){let r=yield se(e,Y.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),i);return Kn(r)})}function Jt(n,e,t,i){return p(this,null,function*(){let o=yield(yield se(e,Y.GENERATE_CONTENT,n,!1,JSON.stringify(t),i)).json();return{response:Ke(o)}})}function Xt(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function oe(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(let t of n)typeof t=="string"?e.push({text:t}):e.push(t);return Zn(e)}function Zn(n){let e={role:"user",parts:[]},t={role:"function",parts:[]},i=!1,r=!1;for(let o of n)"functionResponse"in o?(t.parts.push(o),r=!0):(e.parts.push(o),i=!0);if(i&&r)throw new y("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!r)throw new y("No content is provided for sending chat message.");return i?e:t}function ei(n,e){var t;let i={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(t=e?.cachedContent)===null||t===void 0?void 0:t.name,contents:[]},r=n.generateContentRequest!=null;if(n.contents){if(r)throw new x("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=n.contents}else if(r)i=Object.assign(Object.assign({},i),n.generateContentRequest);else{let o=oe(n);i.contents=[o]}return{generateContentRequest:i}}function zt(n){let e;return n.contents?e=n:e={contents:[oe(n)]},n.systemInstruction&&(e.systemInstruction=Xt(n.systemInstruction)),e}function ti(n){return typeof n=="string"||Array.isArray(n)?{content:oe(n)}:n}var Kt=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],ni={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function ii(n){let e=!1;for(let t of n){let{role:i,parts:r}=t;if(!e&&i!=="user")throw new y(`First content should be with role 'user', got ${i}`);if(!$t.includes(i))throw new y(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify($t)}`);if(!Array.isArray(r))throw new y("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new y("Each Content should have at least one part");let o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let a of r)for(let h of Kt)h in a&&(o[h]+=1);let s=ni[i];for(let a of Kt)if(!s.includes(a)&&o[a]>0)throw new y(`Content with role '${i}' can't contain '${a}' part`);e=!0}}var Yt="SILENT_ERROR",ze=class{constructor(e,t,i,r={}){this.model=t,this.params=i,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,i?.history&&(ii(i.history),this._history=i.history)}getHistory(){return p(this,null,function*(){return yield this._sendPromise,this._history})}sendMessage(i){return p(this,arguments,function*(e,t={}){var r,o,s,a,h,C;yield this._sendPromise;let I=oe(e),G={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(C=this.params)===null||C===void 0?void 0:C.cachedContent,contents:[...this._history,I]},g=Object.assign(Object.assign({},this._requestOptions),t),b;return this._sendPromise=this._sendPromise.then(()=>Jt(this._apiKey,this.model,G,g)).then(_=>{var M;if(_.response.candidates&&_.response.candidates.length>0){this._history.push(I);let ae=Object.assign({parts:[],role:"model"},(M=_.response.candidates)===null||M===void 0?void 0:M[0].content);this._history.push(ae)}else{let ae=P(_.response);ae&&console.warn(`sendMessage() was unsuccessful. ${ae}. Inspect response object for details.`)}b=_}),yield this._sendPromise,b})}sendMessageStream(i){return p(this,arguments,function*(e,t={}){var r,o,s,a,h,C;yield this._sendPromise;let I=oe(e),G={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(C=this.params)===null||C===void 0?void 0:C.cachedContent,contents:[...this._history,I]},g=Object.assign(Object.assign({},this._requestOptions),t),b=Qt(this._apiKey,this.model,G,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(_=>{throw new Error(Yt)}).then(_=>_.response).then(_=>{if(_.candidates&&_.candidates.length>0){this._history.push(I);let M=Object.assign({},_.candidates[0].content);M.role||(M.role="model"),this._history.push(M)}else{let M=P(_);M&&console.warn(`sendMessageStream() was unsuccessful. ${M}. Inspect response object for details.`)}}).catch(_=>{_.message!==Yt&&console.error(_)}),b})}};function ri(n,e,t,i){return p(this,null,function*(){return(yield se(e,Y.COUNT_TOKENS,n,!1,JSON.stringify(t),i)).json()})}function oi(n,e,t,i){return p(this,null,function*(){return(yield se(e,Y.EMBED_CONTENT,n,!1,JSON.stringify(t),i)).json()})}function si(n,e,t,i){return p(this,null,function*(){let r=t.requests.map(s=>Object.assign(Object.assign({},s),{model:e}));return(yield se(e,Y.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:r}),i)).json()})}var xe=class{constructor(e,t,i={}){this.apiKey=e,this._requestOptions=i,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=Xt(t.systemInstruction),this.cachedContent=t.cachedContent}generateContent(i){return p(this,arguments,function*(e,t={}){var r;let o=zt(e),s=Object.assign(Object.assign({},this._requestOptions),t);return Jt(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),s)})}generateContentStream(i){return p(this,arguments,function*(e,t={}){var r;let o=zt(e),s=Object.assign(Object.assign({},this._requestOptions),t);return Qt(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),s)})}startChat(e){var t;return new ze(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}countTokens(i){return p(this,arguments,function*(e,t={}){let r=ei(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),t);return ri(this.apiKey,this.model,r,o)})}embedContent(i){return p(this,arguments,function*(e,t={}){let r=ti(e),o=Object.assign(Object.assign({},this._requestOptions),t);return oi(this.apiKey,this.model,r,o)})}batchEmbedContents(i){return p(this,arguments,function*(e,t={}){let r=Object.assign(Object.assign({},this._requestOptions),t);return si(this.apiKey,this.model,e,r)})}};var Ie=class{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new y("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new xe(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,i){if(!e.name)throw new x("Cached content must contain a `name` field.");if(!e.model)throw new x("Cached content must contain a `model` field.");let r=["model","systemInstruction"];for(let s of r)if(t?.[s]&&e[s]&&t?.[s]!==e[s]){if(s==="model"){let a=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,h=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===h)continue}throw new x(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${e[s]})`)}let o=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new xe(this.apiKey,o,i)}};function li(n,e){if(n&1){let t=B();c(0,"div",5),E("click",function(){let r=A(t).$implicit,o=v();return D(o.selectSuggestion(r))}),c(1,"div",6)(2,"p",7)(3,"b"),d(4),l()()()()}if(n&2){let t=e.$implicit;u(4),fe(t)}}var Oe=class n{constructor(e){this.http=e}medicines=[];apiUrl="https://api.fda.gov/drug/drugsfda.json?limit=100";ngOnInit(){console.log("MedicineSuggestionsComponent initialized"),this.fetchMedicines()}suggestionSelected=new H;selectSuggestion(e){this.suggestionSelected.emit(e)}fetchMedicines(){this.http.get(this.apiUrl).subscribe({next:e=>{if(e.results&&Array.isArray(e.results)){let t=e.results.flatMap(i=>i.products?i.products.map(r=>r.brand_name):[]);this.medicines=this.getRandomMedicines(t,8)}else console.warn("No results found in the API response")},error:e=>{console.error("Error loading medicines",e)}})}getRandomMedicines(e,t){return e.sort(()=>.5-Math.random()).slice(0,t)}static \u0275fac=function(t){return new(t||n)(f($))};static \u0275cmp=O({type:n,selectors:[["app-medicine-suggestions"]],outputs:{suggestionSelected:"suggestionSelected"},standalone:!0,features:[N],decls:6,vars:1,consts:[[1,"text-center"],[2,"font-size","1.5rem"],[2,"border-bottom","2px solid white","font-family","'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif"],[1,"suggestions-container","d-flex","flex-wrap","justify-content-center","gap-3","mt-4",2,"margin-top","40px"],["class","suggestion-card card",3,"click",4,"ngFor","ngForOf"],[1,"suggestion-card","card",3,"click"],[1,"card-body","text-center"],[1,"card-title"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"p",1)(2,"span",2),d(3,"Some Widely Used Medicines"),l()()(),c(4,"div",3),F(5,li,5,1,"div",4),l()),t&2&&(u(5),m("ngForOf",i.medicines.slice(0,8)))},dependencies:[R,_e],styles:[".suggestions-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:10px;justify-content:center;padding-top:20px;margin-top:30px}.suggestion-card[_ngcontent-%COMP%]{flex:1 1 20%;max-width:100%;min-width:120px;box-shadow:0 2px 4px #0000001a;transition:transform .3s ease;padding:5px;font-size:.9rem;border-radius:5px;cursor:pointer}.suggestion-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px}.suggestion-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;color:#00f}.suggestion-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media (max-width: 768px){.suggestion-card[_ngcontent-%COMP%]{flex:1 1 40%}}@media (max-width: 576px){.suggestion-card[_ngcontent-%COMP%]{flex:1 1 80%}}"]})};var Qe=n=>({active:n});function ci(n,e){n&1&&(c(0,"span"),d(1,"Search"),l())}function ui(n,e){n&1&&(c(0,"span"),d(1,"Searching..."),l())}function di(n,e){if(n&1){let t=B();c(0,"li",14),E("click",function(){let r=A(t).$implicit,o=v(2);return D(o.selectSuggestion(r))}),d(1),l()}if(n&2){let t=e.$implicit;u(),Q(" ",t," ")}}function hi(n,e){if(n&1&&(c(0,"ul",12),F(1,di,2,1,"li",13),l()),n&2){let t=v();u(),m("ngForOf",t.suggestions)}}function fi(n,e){if(n&1){let t=B();c(0,"div",15)(1,"app-medicine-suggestions",16),E("suggestionSelected",function(r){A(t);let o=v();return D(o.onSuggestionSelected(r))}),l()()}}function gi(n,e){if(n&1&&(c(0,"div",17),d(1),l()),n&2){let t=v();u(),Q(" ",t.error," ")}}function pi(n,e){n&1&&(c(0,"div",18)(1,"div",19)(2,"span",20),d(3,"Loading..."),l()()())}function mi(n,e){n&1&&(c(0,"div",38)(1,"span"),d(2,"Generating..."),l(),w(3,"span",39),l())}function _i(n,e){n&1&&(c(0,"div")(1,"p",40)(2,"b"),d(3,"Summary of Medicine by AI"),l()()())}function vi(n,e){n&1&&(c(0,"div",41),w(1,"hr"),l())}function yi(n,e){if(n&1&&w(0,"p",42),n&2){let t=v(2);m("innerHTML",t.formattedText,ut)}}function Ci(n,e){n&1&&(c(0,"div",41),w(1,"hr"),l())}function bi(n,e){if(n&1){let t=B();c(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",25)(5,"label",26),E("click",function(){A(t);let r=v();return D(r.selectedLanguage="english")}),c(6,"input",27),Z("ngModelChange",function(r){A(t);let o=v();return X(o.selectedLanguage,r)||(o.selectedLanguage=r),D(r)}),l(),d(7," English "),l(),c(8,"label",26),E("click",function(){A(t);let r=v();return D(r.selectedLanguage="hindi")}),c(9,"input",28),Z("ngModelChange",function(r){A(t);let o=v();return X(o.selectedLanguage,r)||(o.selectedLanguage=r),D(r)}),l(),d(10," Hindi "),l(),c(11,"label",26),E("click",function(){A(t);let r=v();return D(r.selectedLanguage="tamil")}),c(12,"input",29),Z("ngModelChange",function(r){A(t);let o=v();return X(o.selectedLanguage,r)||(o.selectedLanguage=r),D(r)}),l(),d(13," Tamil "),l()()(),c(14,"div",30)(15,"h5",31),d(16),l(),c(17,"button",32),E("click",function(){A(t);let r=v();return D(r.summarize())}),d(18,"Summarize with AI"),l()(),F(19,mi,4,0,"div",33)(20,_i,4,0,"div",6)(21,vi,2,0,"div",34)(22,yi,1,1,"p",35)(23,Ci,2,0,"div",34),c(24,"p",36)(25,"strong"),d(26,"Generic Name:"),l(),d(27),l(),c(28,"p",37)(29,"strong"),d(30,"Indications:"),l(),d(31),l()()()()}if(n&2){let t=v();u(5),m("ngClass",pe(14,Qe,t.selectedLanguage==="english")),u(),J("ngModel",t.selectedLanguage),u(2),m("ngClass",pe(16,Qe,t.selectedLanguage==="hindi")),u(),J("ngModel",t.selectedLanguage),u(2),m("ngClass",pe(18,Qe,t.selectedLanguage==="tamil")),u(),J("ngModel",t.selectedLanguage),u(4),fe(t.searchResults.brandName),u(3),m("ngIf",t.isLoading),u(),m("ngIf",!t.isLoading&&t.formattedText),u(),m("ngIf",!t.isLoading&&t.formattedText),u(),m("ngIf",!t.isLoading&&t.formattedText),u(),m("ngIf",!t.isLoading&&t.formattedText),u(4),Q(" ",t.searchResults.genericName,""),u(4),Q(" ",t.searchResults.indications,"")}}var Fe=class n{constructor(e,t){this.http=e;this.sanitizer=t}searchQuery="";isLoading=!1;error=null;searchResults=null;summarizedContent="";summaryResult="";formattedText="";selectedLanguage="english";suggestions=[];isHome=!0;searchMedicine(){if(this.isHome=!1,!this.searchQuery.trim()){this.error="Please enter a medicine name to search.";return}this.isLoading=!0,this.error=null,this.searchResults=null,this.formattedText="";let e=`https://backend-medicine-dpu17zja5-amit-mishras-projects-3515f952.vercel.app/api/medicine/search?name=${encodeURIComponent(this.searchQuery.trim())}`;this.http.get(e).pipe(nt(t=>(console.error("Error fetching search results:",t),this.error="No Medicine Found !!!",Ze(null)))).subscribe({next:t=>{this.searchResults=t,this.isLoading=!1,this.searchQuery=""},error:()=>{this.isLoading=!1}})}summarize(){return p(this,null,function*(){if(this.searchResults){this.summarizedContent=`Brand Name: ${this.searchResults.brandName}.
Generic Name: ${this.searchResults.genericName}.
Purpose: ${this.searchResults.purpose||"N/A"}.
Indications: ${this.searchResults.indications||"N/A"}`;try{this.isLoading=!0;let t=yield new Ie("AIzaSyCSxv7kIOWNSQar1jitoHOUzWRyIAokN5c").getGenerativeModel({model:"gemini-pro"}),i=`You are an AI expert. Please give the summary in detail of this medicine information: ${this.summarizedContent} for uses and side effects of this medicine.
        Strictly follow this: Give the summary in ${this.selectedLanguage} language`,r=yield t.generateContent(i);this.summaryResult=r.response.text(),this.formattedText=this.sanitizer.bypassSecurityTrustHtml(this.formatText(this.summaryResult)),console.log(this.formattedText)}catch(e){console.error("Error generating AI summary:",e)}finally{this.isLoading=!1}}else console.log("No content available to summarize.")})}formatText(e){if(!e||e.trim()==="")return"";let t=e.replace(/\r\n/g,`
`).split(`
`).map(s=>s.trim()).filter(Boolean),i="",r=!1,o=[];for(let s=0;s<t.length;s++){let a=t[s];if(a=a.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>"),a.startsWith("* ")){let h=a.substring(2);r||(r=!0,o=[]),o.push(`<li>${h}</li>`)}else if(r&&(i+=`<ul>${o.join("")}</ul>`,r=!1,o=[]),a.includes("*")){let h=a.split("*").filter(Boolean);i+=h.map(C=>`<p>${C.trim()}</p>`).join("")}else i+=`<p>${a}</p>`}return r&&o.length>0&&(i+=`<ul>${o.join("")}</ul>`),i.replace(/\s+/g," ").replace(/><br>/g,">").replace(/\s+</g,"<").replace(/>\s+/g,">").trim()}onInputChange(){this.isHome=!1,this.searchQuery?(this.isLoading=!0,this.http.get(`https://rxnav.nlm.nih.gov/REST/approximateTerm?term=${this.searchQuery}&maxEntries=10`).pipe(it(300),rt()).subscribe({next:e=>{this.suggestions=e.approximateGroup.candidate.filter(t=>t.name!==void 0).map(t=>t.name),this.isLoading=!1},error:e=>{this.error="Error fetching suggestions",this.isLoading=!1}})):this.suggestions=[]}selectSuggestion(e){this.searchQuery=e,this.suggestions=[]}onSuggestionSelected(e){this.searchQuery=e,this.suggestions=[],this.searchMedicine()}static \u0275fac=function(t){return new(t||n)(f($),f(Ct))};static \u0275cmp=O({type:n,selectors:[["app-search"]],standalone:!0,features:[N],decls:14,vars:11,consts:[[1,"container"],[1,"logo"],[1,"logo-text"],[1,"search-bar"],["type","text","placeholder","Enter medicine name",1,"form-control",3,"ngModelChange","input","keyup.enter","ngModel"],[1,"btn",2,"background-color","#008080","color","white",3,"click","disabled"],[4,"ngIf"],["class","suggestions-dropdown",4,"ngIf"],["class","custom-suggestion","style","margin-top: 190px;",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],["class","search-results mt-4",4,"ngIf"],[1,"suggestions-dropdown"],["class","suggestion-item",3,"click",4,"ngFor","ngForOf"],[1,"suggestion-item",3,"click"],[1,"custom-suggestion",2,"margin-top","190px"],[3,"suggestionSelected"],[1,"alert","alert-danger","mt-3"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"search-results","mt-4"],[1,"card","mb-3"],[1,"card-body"],[1,"language-chooser",2,"margin-top","3px","margin-bottom","5px"],["role","group","aria-label","Language selection",1,"btn-group","d-flex","justify-content-center","gap-3"],[1,"btn","btn-outline-primary",3,"click","ngClass"],["type","radio","name","language","value","english",1,"d-none",3,"ngModelChange","ngModel"],["type","radio","name","language","value","hindi",1,"d-none",3,"ngModelChange","ngModel"],["type","radio","name","language","value","tamil",1,"d-none",3,"ngModelChange","ngModel"],[1,"card-header"],[1,"card-title"],[1,"ai-summarize-button",3,"click"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["class","horizontal-line",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"card-text",2,"margin-top","20px"],[1,"card-text"],[1,"d-flex","justify-content-center","align-items-center"],[1,"loader"],[1,"d-flex","justify-content-center","align-items-center",2,"font-size","1.5rem","margin-top","1px"],[1,"horizontal-line"],[3,"innerHTML"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),d(3,"MediSearch"),l()(),c(4,"div",3)(5,"input",4),Z("ngModelChange",function(o){return X(i.searchQuery,o)||(i.searchQuery=o),o}),E("input",function(){return i.onInputChange()})("keyup.enter",function(){return i.searchMedicine()}),l(),c(6,"button",5),E("click",function(){return i.searchMedicine()}),F(7,ci,2,0,"span",6)(8,ui,2,0,"span",6),l(),F(9,hi,2,1,"ul",7),l(),F(10,fi,2,0,"div",8)(11,gi,2,1,"div",9)(12,pi,4,0,"div",10)(13,bi,32,20,"div",11),l()),t&2&&(u(5),he("is-invalid",i.error),J("ngModel",i.searchQuery),u(),m("disabled",i.isLoading),u(),m("ngIf",!i.isLoading),u(),m("ngIf",i.isLoading),u(),m("ngIf",i.suggestions.length),u(),m("ngIf",i.isHome),u(),m("ngIf",i.error),u(),m("ngIf",i.isLoading),u(),m("ngIf",i.searchResults))},dependencies:[R,pt,_e,mt,Bt,Me,We,Ht,$e,Oe],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:0 1rem}.logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.logo-text[_ngcontent-%COMP%]{font-family:Cambria,Cochin,Georgia,Times,Times New Roman,serif;font-size:2.5rem;font-weight:700;color:#ff6f61;border-bottom:3px solid white}.search-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;position:relative}.form-control[_ngcontent-%COMP%]{flex:1}.card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 4px #0000001a}.card-title[_ngcontent-%COMP%]{color:#007bff;margin-bottom:1rem}.alert[_ngcontent-%COMP%]{border-radius:8px}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.card-title[_ngcontent-%COMP%]{flex:1;margin:0;word-break:break-word}.ai-summarize-button[_ngcontent-%COMP%]{white-space:nowrap;margin-left:10px;background:linear-gradient(90deg,#d807ab,#0752f3);color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:16px;transition:background .3s ease}.language-chooser[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:background .3s ease;border-radius:5px}.language-chooser[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .language-chooser[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .language-chooser[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%], .language-chooser[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{background:linear-gradient(90deg,#d807ab,#0752f3)!important;color:#fff!important;border-color:transparent!important}.ai-summarize-button[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#0752f3,#d807ab)}.horizontal-line[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;height:4px;background-color:red;margin:20px 0}.suggestions-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 5px);left:0;width:88%;max-width:calc(100% - 20px);background-color:#fff;border:1px solid #ccc;z-index:1000;max-height:200px;overflow-y:auto;border-radius:4px;box-shadow:0 2px 5px #0003;list-style-type:none;padding:0;margin:0;color:#000}.suggestions-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer}.suggestions-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.suggestions-dropdown.visible[_ngcontent-%COMP%]{display:block}.custom-suggestion[_ngcontent-%COMP%]{margin-top:40px}"]})};var Ne=class n{constructor(e){this.http=e}static \u0275fac=function(t){return new(t||n)(f($))};static \u0275cmp=O({type:n,selectors:[["app-header"]],standalone:!0,features:[N],decls:11,vars:0,consts:[[1,"fixed-footer"],["href","#home",1,"footer-link"],[1,"fas","fa-home"],["href","#medisearch",1,"footer-link"],[1,"fas","fa-search"],["href","#nutriscan",1,"footer-link"],[1,"fas","fa-apple-alt"]],template:function(t,i){t&1&&(c(0,"header",0)(1,"nav")(2,"a",1),w(3,"i",2),d(4," Home "),l(),c(5,"a",3),w(6,"i",4),d(7," MediSearch "),l(),c(8,"a",5),w(9,"i",6),d(10," NutriScan "),l()()())},dependencies:[Vt,R],styles:[".content[_ngcontent-%COMP%]{padding-bottom:60px}.fixed-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:teal;color:#fff;padding:15px 0;box-shadow:0 -2px 5px #0003}.fixed-footer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:30px}.footer-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;display:flex;align-items:center}.footer-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.footer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Re=class n{title="medicine-search";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=O({type:n,selectors:[["app-root"]],standalone:!0,features:[N],decls:2,vars:0,template:function(t,i){t&1&&w(0,"app-search")(1,"app-header")},dependencies:[R,Fe,Ne],encapsulation:2})};var en={providers:[_t(vt()),bt(),Et()]};var Ei={providers:[Mt()]},tn=gt(en,Ei);var Mi=()=>yt(Re,tn),xr=Mi;export{xr as a};
